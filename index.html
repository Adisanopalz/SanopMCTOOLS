<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SANOP:MCTOOLS v3.0 - Admin Suite</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        sanop: {
                            bg: '#0f172a',
                            card: '#1e293b',
                            dark: '#020617',
                            accent: '#3b82f6',
                            success: '#10b981',
                            warning: '#f59e0b',
                            danger: '#ef4444',
                            text: '#f8fafc',
                            muted: '#94a3b8'
                        }
                    },
                    animation: {
                        'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'slide-in': 'slideIn 0.3s ease-out forwards',
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                    },
                    keyframes: {
                        slideIn: {
                            '0%': { transform: 'translateX(100%)', opacity: '0' },
                            '100%': { transform: 'translateX(0)', opacity: '1' }
                        },
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #0f172a;
            color: #f8fafc;
        }
        .minecraft-font {
            font-family: 'JetBrains Mono', monospace;
            text-shadow: 2px 2px 0px #000;
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }
        
        .tool-content {
            display: none;
            animation: fadeIn 0.4s ease-out;
        }
        .tool-content.active { display: block; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Login Screen Overlay */
        #login-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: #0f172a;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease;
        }
        #login-screen.hidden-screen {
            opacity: 0;
            pointer-events: none;
        }
        
        /* Checkbox Style */
        .custom-checkbox {
            appearance: none;
            background-color: #0f172a;
            margin: 0;
            font: inherit;
            color: currentColor;
            width: 1.15em;
            height: 1.15em;
            border: 0.15em solid #3b82f6;
            border-radius: 0.15em;
            display: grid;
            place-content: center;
        }
        .custom-checkbox::before {
            content: "";
            width: 0.65em;
            height: 0.65em;
            transform: scale(0);
            transition: 120ms transform ease-in-out;
            box-shadow: inset 1em 1em #3b82f6;
            transform-origin: center;
            clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
        }
        .custom-checkbox:checked::before {
            transform: scale(1);
        }
    </style>
</head>
<body class="h-screen flex flex-col md:flex-row overflow-hidden font-sans text-slate-200">

    <!-- LOGIN SCREEN OVERLAY -->
    <div id="login-screen">
        <div class="bg-sanop-card p-8 rounded-2xl border border-slate-700 shadow-2xl w-full max-w-md text-center transform scale-100 transition-transform duration-300">
            <div class="w-16 h-16 bg-blue-600 rounded-xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-blue-500/30">
                <i class="fa-solid fa-user-shield text-3xl text-white"></i>
            </div>
            <h1 class="text-3xl font-bold text-white mb-2">Identitas Admin</h1>
            <p class="text-slate-400 mb-8 text-sm">Masukkan nama panggilan Anda untuk mengakses panel.</p>
            
            <div class="space-y-4">
                <input type="text" id="login-input" class="w-full bg-slate-900 border border-slate-600 rounded-xl px-5 py-4 text-white focus:outline-none focus:border-blue-500 transition text-center font-bold text-lg" placeholder="Nama Anda...">
                <button onclick="doLogin()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl transition shadow-lg shadow-blue-600/20 transform hover:-translate-y-1">
                    MASUK PANEL <i class="fa-solid fa-arrow-right ml-2"></i>
                </button>
            </div>
            <p class="mt-6 text-xs text-slate-600">Data disimpan di local storage browser Anda.</p>
        </div>
    </div>

    <!-- Sidebar Navigation -->
    <aside class="w-full md:w-64 bg-sanop-card border-r border-slate-700 flex flex-col z-20 shadow-2xl relative">
        <div class="p-6 border-b border-slate-700 flex items-center gap-3 bg-gradient-to-r from-sanop-card to-slate-800">
            <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-lg flex items-center justify-center shadow-lg shadow-blue-500/20 group cursor-pointer hover:scale-105 transition-transform">
                <i class="fa-solid fa-server text-xl text-white group-hover:animate-spin"></i>
            </div>
            <div>
                <h1 class="font-bold text-lg tracking-wider text-white">SANOP</h1>
                <p class="text-xs text-blue-400 font-mono">v3.0 LITE</p>
            </div>
        </div>

        <nav class="flex-1 overflow-y-auto p-4 space-y-1">
            <div class="text-[10px] font-bold text-slate-500 uppercase tracking-widest px-4 mb-2 mt-2">Main Menu</div>
            
            <button onclick="switchTab('dashboard')" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700/50 transition-all text-slate-300 hover:text-white flex items-center gap-3 active-nav bg-blue-600/10 text-blue-400 border border-blue-500/20 shadow-[0_0_15px_rgba(59,130,246,0.1)]" id="btn-dashboard">
                <i class="fa-solid fa-gauge w-5 text-center"></i> Dashboard
            </button>
            <button onclick="switchTab('kamus')" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700/50 transition-all text-slate-300 hover:text-white flex items-center gap-3" id="btn-kamus">
                <i class="fa-solid fa-book-open w-5 text-center text-teal-400"></i> Kamus Admin
            </button>
             <button onclick="switchTab('checklist')" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700/50 transition-all text-slate-300 hover:text-white flex items-center gap-3" id="btn-checklist">
                <i class="fa-solid fa-list-check w-5 text-center text-emerald-400"></i> Maintenance List <span class="text-[9px] bg-emerald-500 text-black px-1.5 rounded font-bold ml-auto">NEW</span>
            </button>

            <div class="text-[10px] font-bold text-slate-500 uppercase tracking-widest px-4 mb-2 mt-4">Server Config</div>
            
            <button onclick="switchTab('propgen')" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700/50 transition-all text-slate-300 hover:text-white flex items-center gap-3" id="btn-propgen">
                <i class="fa-solid fa-sliders w-5 text-center text-orange-400"></i> Properties Gen <span class="text-[9px] bg-orange-500 text-black px-1.5 rounded font-bold ml-auto">HOT</span>
            </button>
             <button onclick="switchTab('announce')" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700/50 transition-all text-slate-300 hover:text-white flex items-center gap-3" id="btn-announce">
                <i class="fa-solid fa-bullhorn w-5 text-center text-yellow-400"></i> Announcer
            </button>
            <button onclick="switchTab('plugins')" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700/50 transition-all text-slate-300 hover:text-white flex items-center gap-3" id="btn-plugins">
                <i class="fa-solid fa-plug w-5 text-center text-purple-400"></i> Plugin Helper
            </button>

            <div class="text-[10px] font-bold text-slate-500 uppercase tracking-widest px-4 mb-2 mt-4">Utilities</div>
            
            <button onclick="switchTab('motd')" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700/50 transition-all text-slate-300 hover:text-white flex items-center gap-3" id="btn-motd">
                <i class="fa-solid fa-pen-nib w-5 text-center"></i> MOTD Editor
            </button>
            <button onclick="switchTab('status')" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700/50 transition-all text-slate-300 hover:text-white flex items-center gap-3" id="btn-status">
                <i class="fa-solid fa-signal w-5 text-center"></i> Server Checker
            </button>
            <button onclick="switchTab('security')" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700/50 transition-all text-slate-300 hover:text-white flex items-center gap-3" id="btn-security">
                <i class="fa-solid fa-shield-halved w-5 text-center"></i> Security Gen
            </button>
            <button onclick="switchTab('converter')" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700/50 transition-all text-slate-300 hover:text-white flex items-center gap-3" id="btn-converter">
                <i class="fa-solid fa-right-left w-5 text-center"></i> Unit Converter
            </button>
             <button onclick="switchTab('notes')" class="nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700/50 transition-all text-slate-300 hover:text-white flex items-center gap-3" id="btn-notes">
                <i class="fa-solid fa-clipboard w-5 text-center"></i> Admin Notes
            </button>
        </nav>

        <div class="p-4 border-t border-slate-700 bg-sanop-card">
            <div class="bg-slate-900/50 rounded-lg p-3 text-xs text-slate-400 font-mono border border-slate-700/50">
                <div class="flex items-center gap-2 mb-2">
                    <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                    <span class="text-slate-300">System Stable</span>
                </div>
                <div class="text-[10px] text-slate-600 cursor-pointer hover:text-red-400 transition" onclick="doLogout()" title="Klik untuk Logout">
                    User: <span id="sidebar-user" class="text-blue-400 font-bold">...</span> (Keluar)<br>
                    Session: <span id="session-time">00:00</span>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto p-4 md:p-8 bg-sanop-bg relative">
        
        <!-- Mobile Header -->
        <div class="md:hidden mb-6 flex items-center justify-between bg-sanop-card p-4 rounded-lg border border-slate-700 shadow-lg">
             <div class="flex items-center gap-2">
                 <i class="fa-solid fa-server text-blue-500"></i>
                 <h2 class="font-bold tracking-wider">SANOP<span class="text-blue-500">:MC</span></h2>
             </div>
             <span class="text-xs bg-green-500/20 text-green-300 px-2 py-1 rounded border border-green-500/30">ONLINE</span>
        </div>

        <!-- DASHBOARD VIEW -->
        <div id="dashboard" class="tool-content active">
            <header class="mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4">
                <div>
                    <h2 class="text-3xl font-extrabold mb-1 bg-gradient-to-r from-white to-slate-400 bg-clip-text text-transparent">
                        Halo, <span id="user-name-display" class="text-blue-500">Admin</span>!
                    </h2>
                    <p class="text-slate-400 text-sm">Selamat datang kembali di pusat komando server.</p>
                </div>
                <div class="flex gap-2">
                    <button onclick="location.reload()" class="bg-slate-800 hover:bg-slate-700 border border-slate-600 text-white px-4 py-2 rounded-lg text-sm transition flex items-center gap-2">
                        <i class="fa-solid fa-rotate"></i> Refresh
                    </button>
                    <button onclick="doLogout()" class="bg-red-900/20 hover:bg-red-900/40 border border-red-500/30 text-red-400 px-4 py-2 rounded-lg text-sm transition flex items-center gap-2">
                        <i class="fa-solid fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </header>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                <!-- Highlight Cards -->
                <div onclick="switchTab('propgen')" class="bg-gradient-to-br from-orange-900/50 to-slate-900 p-6 rounded-xl border border-orange-500/30 hover:border-orange-400 transition-all cursor-pointer group shadow-lg">
                    <div class="flex justify-between items-start mb-4">
                        <div class="p-3 bg-orange-500/20 rounded-lg text-orange-400">
                            <i class="fa-solid fa-sliders text-2xl"></i>
                        </div>
                        <span class="text-xs font-bold bg-orange-500 text-white px-2 py-1 rounded">HOT</span>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-1">Properties Gen</h3>
                    <p class="text-sm text-slate-400">Buat file server.properties dengan mudah (PvP, Difficulty, dll).</p>
                </div>

                <div onclick="switchTab('announce')" class="bg-sanop-card p-6 rounded-xl border border-slate-700 hover:border-yellow-500/50 transition-all cursor-pointer group hover:bg-slate-800/50">
                    <div class="flex justify-between items-start mb-4">
                        <div class="p-3 bg-yellow-500/10 rounded-lg text-yellow-400">
                            <i class="fa-solid fa-bullhorn text-2xl"></i>
                        </div>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-1">Announcer</h3>
                    <p class="text-sm text-slate-400">Buat command broadcast/pengumuman server.</p>
                </div>

                <div onclick="switchTab('plugins')" class="bg-sanop-card p-6 rounded-xl border border-slate-700 hover:border-purple-500/50 transition-all cursor-pointer group hover:bg-slate-800/50">
                    <div class="flex justify-between items-start mb-4">
                        <div class="p-3 bg-purple-500/10 rounded-lg text-purple-400">
                            <i class="fa-solid fa-plug text-2xl"></i>
                        </div>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-1">Plugin Helper</h3>
                    <p class="text-sm text-slate-400">Generator command LuckPerms & Essentials.</p>
                </div>
            </div>

            <!-- Recent Activity Table -->
            <div class="bg-sanop-card rounded-xl border border-slate-700 overflow-hidden">
                <div class="px-6 py-4 border-b border-slate-700 flex justify-between items-center bg-slate-800/30">
                    <h3 class="font-bold text-sm text-slate-200">Riwayat Penggunaan Tools</h3>
                    <button onclick="clearLog()" class="text-xs text-red-400 hover:text-red-300">Hapus Log</button>
                </div>
                <div id="activity-log" class="p-4 space-y-2 max-h-60 overflow-y-auto">
                    <!-- Logs inserted via JS -->
                    <div class="text-center text-slate-500 text-xs py-4">Belum ada aktivitas baru.</div>
                </div>
            </div>
        </div>

        <!-- NEW: PROPERTIES GENERATOR -->
        <div id="propgen" class="tool-content">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="fa-solid fa-sliders text-orange-400"></i> Server Properties Generator</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-sanop-card p-6 rounded-xl border border-slate-700 space-y-4">
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="text-xs text-slate-400 block mb-1">Max Players</label>
                            <input type="number" id="prop-max" value="20" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white">
                        </div>
                        <div>
                            <label class="text-xs text-slate-400 block mb-1">View Distance</label>
                            <input type="number" id="prop-view" value="10" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white">
                        </div>
                    </div>
                    <div>
                        <label class="text-xs text-slate-400 block mb-1">MOTD (Server Name)</label>
                        <input type="text" id="prop-motd" value="A Minecraft Server" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="text-xs text-slate-400 block mb-1">Difficulty</label>
                            <select id="prop-diff" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white">
                                <option value="easy">Easy</option>
                                <option value="normal" selected>Normal</option>
                                <option value="hard">Hard</option>
                                <option value="peaceful">Peaceful</option>
                            </select>
                        </div>
                        <div>
                            <label class="text-xs text-slate-400 block mb-1">Gamemode</label>
                            <select id="prop-mode" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white">
                                <option value="survival" selected>Survival</option>
                                <option value="creative">Creative</option>
                                <option value="adventure">Adventure</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-y-3 pt-2">
                        <label class="flex items-center gap-2 text-sm text-slate-300 cursor-pointer">
                            <input type="checkbox" id="prop-pvp" checked class="custom-checkbox"> PvP Enabled
                        </label>
                        <label class="flex items-center gap-2 text-sm text-slate-300 cursor-pointer">
                            <input type="checkbox" id="prop-nether" checked class="custom-checkbox"> Allow Nether
                        </label>
                        <label class="flex items-center gap-2 text-sm text-slate-300 cursor-pointer">
                            <input type="checkbox" id="prop-fly" class="custom-checkbox"> Allow Flight
                        </label>
                        <label class="flex items-center gap-2 text-sm text-slate-300 cursor-pointer">
                            <input type="checkbox" id="prop-wl" class="custom-checkbox"> White-list
                        </label>
                        <label class="flex items-center gap-2 text-sm text-slate-300 cursor-pointer">
                            <input type="checkbox" id="prop-cmd" checked class="custom-checkbox"> Enable Command Blocks
                        </label>
                        <label class="flex items-center gap-2 text-sm text-slate-300 cursor-pointer">
                            <input type="checkbox" id="prop-cracked" class="custom-checkbox"> Cracked (Online-mode: false)
                        </label>
                    </div>

                    <button onclick="genProperties()" class="w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-2 rounded text-sm transition mt-2">Generate Config</button>
                </div>

                <div class="bg-sanop-card p-6 rounded-xl border border-slate-700 flex flex-col">
                    <label class="block text-sm font-bold mb-2 text-slate-300">Hasil (server.properties)</label>
                    <textarea id="prop-output" readonly class="w-full flex-1 bg-black border border-slate-700 rounded p-3 text-green-400 font-mono text-xs leading-loose resize-none mb-3" placeholder="Klik Generate..."></textarea>
                    <button onclick="copyToClipboard('prop-output')" class="w-full bg-slate-800 hover:bg-slate-700 text-white py-2 rounded-lg text-sm transition border border-slate-600">
                        <i class="fa-regular fa-copy"></i> Copy Config
                    </button>
                </div>
            </div>
        </div>

        <!-- NEW: ANNOUNCER -->
        <div id="announce" class="tool-content">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="fa-solid fa-bullhorn text-yellow-400"></i> Announcement Maker</h2>
            <div class="bg-sanop-card p-6 rounded-xl border border-slate-700 max-w-3xl">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                    <div class="md:col-span-2">
                         <label class="text-xs text-slate-400 block mb-1">Pesan Pengumuman</label>
                         <input type="text" id="ann-msg" placeholder="Server akan restart dalam 5 menit!" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white">
                    </div>
                    <div>
                         <label class="text-xs text-slate-400 block mb-1">Warna Teks</label>
                         <select id="ann-color" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white">
                             <option value="red">Merah</option>
                             <option value="green">Hijau</option>
                             <option value="yellow" selected>Kuning</option>
                             <option value="aqua">Biru Muda</option>
                             <option value="gold">Emas</option>
                             <option value="light_purple">Pink</option>
                         </select>
                    </div>
                </div>
                <div class="flex gap-4 mb-6">
                    <div class="flex-1 p-3 bg-slate-800 rounded border border-slate-700 cursor-pointer hover:bg-slate-700 transition" onclick="genBroadcast('chat')">
                        <div class="font-bold text-white mb-1"><i class="fa-solid fa-comment-dots"></i> Chat Broadcast</div>
                        <div class="text-xs text-slate-400">Muncul di chatbox semua player.</div>
                    </div>
                    <div class="flex-1 p-3 bg-slate-800 rounded border border-slate-700 cursor-pointer hover:bg-slate-700 transition" onclick="genBroadcast('title')">
                        <div class="font-bold text-white mb-1"><i class="fa-solid fa-heading"></i> Title Screen</div>
                        <div class="text-xs text-slate-400">Muncul besar di tengah layar.</div>
                    </div>
                </div>
                
                <div class="bg-black p-3 rounded border border-slate-700 flex justify-between items-center">
                    <code id="ann-result" class="text-yellow-400 text-sm font-mono">...</code>
                    <button onclick="copyToClipboard('ann-result-val')" class="text-xs bg-slate-800 px-2 py-1 rounded text-white hover:bg-slate-700">Copy</button>
                    <input type="hidden" id="ann-result-val">
                </div>
            </div>
        </div>

        <!-- NEW: CHECKLIST -->
        <div id="checklist" class="tool-content">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="fa-solid fa-list-check text-emerald-400"></i> Maintenance Checklist</h2>
             <div class="bg-sanop-card p-6 rounded-xl border border-slate-700 max-w-2xl">
                 <p class="text-sm text-slate-400 mb-4">Gunakan ini agar tidak lupa langkah penting saat maintenance.</p>
                 <div class="space-y-3">
                     <label class="flex items-center gap-3 p-3 bg-slate-900/50 rounded border border-slate-700 cursor-pointer hover:bg-slate-900">
                         <input type="checkbox" class="custom-checkbox">
                         <span class="text-slate-300 text-sm">Beritahu player 10 menit sebelum restart (/say)</span>
                     </label>
                     <label class="flex items-center gap-3 p-3 bg-slate-900/50 rounded border border-slate-700 cursor-pointer hover:bg-slate-900">
                         <input type="checkbox" class="custom-checkbox">
                         <span class="text-slate-300 text-sm">Kick semua player (/kickall)</span>
                     </label>
                      <label class="flex items-center gap-3 p-3 bg-slate-900/50 rounded border border-slate-700 cursor-pointer hover:bg-slate-900">
                         <input type="checkbox" class="custom-checkbox">
                         <span class="text-slate-300 text-sm">Matikan server dengan aman (/stop)</span>
                     </label>
                      <label class="flex items-center gap-3 p-3 bg-slate-900/50 rounded border border-slate-700 cursor-pointer hover:bg-slate-900">
                         <input type="checkbox" class="custom-checkbox">
                         <span class="text-slate-300 text-sm">Backup folder world/database</span>
                     </label>
                      <label class="flex items-center gap-3 p-3 bg-slate-900/50 rounded border border-slate-700 cursor-pointer hover:bg-slate-900">
                         <input type="checkbox" class="custom-checkbox">
                         <span class="text-slate-300 text-sm">Update plugin/jar file</span>
                     </label>
                      <label class="flex items-center gap-3 p-3 bg-slate-900/50 rounded border border-slate-700 cursor-pointer hover:bg-slate-900">
                         <input type="checkbox" class="custom-checkbox">
                         <span class="text-slate-300 text-sm">Nyalakan server & Cek console log</span>
                     </label>
                 </div>
                 <button onclick="document.querySelectorAll('#checklist input').forEach(i => i.checked = false); showToast('Checklist di-reset')" class="mt-4 text-xs text-red-400 hover:text-red-300 underline">Reset Checklist</button>
             </div>
        </div>

        <!-- PLUGIN HELPER (Existing) -->
        <div id="plugins" class="tool-content">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="fa-solid fa-plug text-purple-400"></i> Plugin Helper</h2>
            
            <div class="bg-sanop-card p-6 rounded-xl border border-slate-700 mb-6">
                <div class="flex items-center gap-3 mb-4 border-b border-slate-700 pb-2">
                    <i class="fa-solid fa-shield-cat text-green-400 text-xl"></i>
                    <h3 class="font-bold text-lg text-white">LuckPerms (Permissions)</h3>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <label class="text-xs text-slate-400 block mb-1">Username Player</label>
                        <input type="text" id="lp-user" placeholder="Steve" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white text-sm">
                    </div>
                    <div>
                        <label class="text-xs text-slate-400 block mb-1">Group / Rank</label>
                        <input type="text" id="lp-group" placeholder="admin" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white text-sm">
                    </div>
                    <div class="flex items-end">
                        <button onclick="genLP()" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 rounded text-sm transition">Generate Command</button>
                    </div>
                </div>
                <div class="mt-4 bg-black p-3 rounded border border-slate-700 flex justify-between items-center">
                    <code id="lp-result" class="text-green-400 text-sm font-mono">/lp user <name> parent set <group></code>
                    <button onclick="copyToClipboard('lp-result-val')" class="text-xs bg-slate-800 px-2 py-1 rounded text-white hover:bg-slate-700">Copy</button>
                    <input type="hidden" id="lp-result-val">
                </div>
            </div>
             <!-- Essentials / General Section -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-sanop-card p-6 rounded-xl border border-slate-700">
                    <div class="flex items-center gap-3 mb-4 border-b border-slate-700 pb-2">
                        <i class="fa-solid fa-box-open text-yellow-400 text-xl"></i>
                        <h3 class="font-bold text-lg text-white">EssentialsX / General</h3>
                    </div>
                    <div class="space-y-2">
                        <p class="text-xs text-slate-400 mb-2">Klik untuk menyalin command umum:</p>
                        <button onclick="copyCmd('/gamemode creative')" class="w-full bg-slate-800 hover:bg-slate-700 text-left px-3 py-2 rounded text-sm text-blue-300 font-mono border border-slate-700 mb-2">/gamemode creative</button>
                        <button onclick="copyCmd('/gamemode survival')" class="w-full bg-slate-800 hover:bg-slate-700 text-left px-3 py-2 rounded text-sm text-blue-300 font-mono border border-slate-700 mb-2">/gamemode survival</button>
                        <button onclick="copyCmd('/time set day')" class="w-full bg-slate-800 hover:bg-slate-700 text-left px-3 py-2 rounded text-sm text-yellow-300 font-mono border border-slate-700 mb-2">/time set day</button>
                        <button onclick="copyCmd('/weather clear')" class="w-full bg-slate-800 hover:bg-slate-700 text-left px-3 py-2 rounded text-sm text-blue-200 font-mono border border-slate-700">/weather clear</button>
                    </div>
                </div>
                 <!-- WorldEdit Section -->
                <div class="bg-sanop-card p-6 rounded-xl border border-slate-700">
                    <div class="flex items-center gap-3 mb-4 border-b border-slate-700 pb-2">
                        <i class="fa-solid fa-hammer text-red-400 text-xl"></i>
                        <h3 class="font-bold text-lg text-white">WorldEdit Quick Ref</h3>
                    </div>
                    <div class="space-y-2">
                         <p class="text-xs text-slate-400 mb-2">Alat bantu builder:</p>
                         <div class="grid grid-cols-2 gap-2">
                            <button onclick="copyCmd('//wand')" class="bg-slate-800 hover:bg-slate-700 px-2 py-2 rounded text-xs text-red-300 font-mono border border-slate-700">//wand</button>
                            <button onclick="copyCmd('//set 0')" class="bg-slate-800 hover:bg-slate-700 px-2 py-2 rounded text-xs text-red-300 font-mono border border-slate-700">//set 0 (Clear)</button>
                            <button onclick="copyCmd('//undo')" class="bg-slate-800 hover:bg-slate-700 px-2 py-2 rounded text-xs text-red-300 font-mono border border-slate-700">//undo</button>
                            <button onclick="copyCmd('//redo')" class="bg-slate-800 hover:bg-slate-700 px-2 py-2 rounded text-xs text-red-300 font-mono border border-slate-700">//redo</button>
                            <button onclick="copyCmd('//br sphere stone 5')" class="col-span-2 bg-slate-800 hover:bg-slate-700 px-2 py-2 rounded text-xs text-red-300 font-mono border border-slate-700">//br sphere stone 5</button>
                         </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- KAMUS ADMIN VIEW -->
        <div id="kamus" class="tool-content">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="fa-solid fa-book-open text-teal-400"></i> Kamus Admin (Pemula)</h2>
            <div class="bg-sanop-card p-6 rounded-xl border border-slate-700 mb-6">
                <input type="text" id="kamus-search" oninput="filterKamus()" placeholder="Cari istilah... (contoh: TPS, Whitelist)" class="w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-teal-500">
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="kamus-container">
                <!-- Items inserted via JS -->
            </div>
        </div>

        <!-- SERVER CHECKER VIEW -->
        <div id="status" class="tool-content">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="fa-solid fa-signal text-blue-500"></i> Server Status Checker</h2>
            <div class="bg-sanop-card p-6 rounded-xl border border-slate-700 max-w-2xl">
                <div class="flex gap-2 mb-4">
                    <input type="text" id="server-ip" placeholder="IP Server (contoh: hypixel.net)" 
                        class="flex-1 bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 font-mono">
                    <button onclick="checkServer()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-bold transition-colors shadow-lg shadow-blue-500/20">Check</button>
                </div>
                <div id="status-result" class="hidden">
                    <div class="border-t border-slate-700 pt-6 animate-pulse" id="loading-skeleton">
                        <div class="h-4 bg-slate-700 rounded w-1/4 mb-4"></div>
                        <div class="h-20 bg-slate-700 rounded w-full mb-4"></div>
                    </div>
                    <div id="result-content" class="hidden animate-slide-in">
                        <div class="flex items-center gap-4 mb-6">
                            <img id="server-icon" src="" class="w-16 h-16 rounded shadow-lg bg-slate-800" alt="Icon">
                            <div>
                                <h3 id="server-hostname" class="text-xl font-bold text-white">Hostname</h3>
                                <div class="flex items-center gap-2 mt-1">
                                    <span id="server-online-badge" class="px-2 py-0.5 rounded text-xs font-bold uppercase bg-green-500/20 text-green-400">Online</span>
                                    <span id="server-ip-display" class="text-sm text-slate-400 font-mono">127.0.0.1</span>
                                </div>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <div class="bg-slate-900 p-4 rounded-lg border border-slate-700/50">
                                <span class="text-xs text-slate-500 uppercase block mb-1">Players</span>
                                <span id="server-players" class="text-xl font-mono text-blue-400">0 / 0</span>
                            </div>
                            <div class="bg-slate-900 p-4 rounded-lg border border-slate-700/50">
                                <span class="text-xs text-slate-500 uppercase block mb-1">Version</span>
                                <span id="server-version" class="text-xl font-mono text-purple-400">Unknown</span>
                            </div>
                        </div>
                        <div class="bg-black/50 p-4 rounded-lg border border-slate-700">
                            <span class="text-xs text-slate-500 uppercase block mb-2">MOTD (Raw)</span>
                            <div id="server-motd" class="minecraft-font text-sm leading-relaxed text-slate-300"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MOTD EDITOR VIEW -->
        <div id="motd" class="tool-content">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="fa-solid fa-pen-nib text-purple-500"></i> MOTD Generator</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-sanop-card p-6 rounded-xl border border-slate-700">
                    <label class="block text-sm font-bold mb-2 text-slate-300">Input Text</label>
                    <textarea id="motd-input" rows="6" oninput="updateMotd()" 
                        class="w-full bg-slate-900 border border-slate-600 rounded-lg p-4 text-white font-mono text-sm focus:outline-none focus:border-purple-500"
                        placeholder="Contoh: &4&lADMIN &fServer Sedang &aONLINE"></textarea>
                    <div class="mt-4 flex flex-wrap gap-2">
                        <!-- Colors 0-9 a-f -->
                        <button onclick="insertColor('&0')" class="w-6 h-6 bg-black border border-slate-600 rounded hover:scale-110 transition" title="Black"></button>
                        <button onclick="insertColor('&c')" class="w-6 h-6 bg-red-500 rounded hover:scale-110 transition" title="Red"></button>
                        <button onclick="insertColor('&6')" class="w-6 h-6 bg-orange-500 rounded hover:scale-110 transition" title="Gold"></button>
                        <button onclick="insertColor('&e')" class="w-6 h-6 bg-yellow-400 rounded hover:scale-110 transition" title="Yellow"></button>
                        <button onclick="insertColor('&a')" class="w-6 h-6 bg-green-500 rounded hover:scale-110 transition" title="Green"></button>
                        <button onclick="insertColor('&b')" class="w-6 h-6 bg-cyan-400 rounded hover:scale-110 transition" title="Aqua"></button>
                        <button onclick="insertColor('&9')" class="w-6 h-6 bg-blue-500 rounded hover:scale-110 transition" title="Blue"></button>
                        <button onclick="insertColor('&d')" class="w-6 h-6 bg-pink-500 rounded hover:scale-110 transition" title="Light Purple"></button>
                        <button onclick="insertColor('&f')" class="w-6 h-6 bg-white border border-slate-600 rounded hover:scale-110 transition" title="White"></button>
                        <button onclick="insertColor('&l')" class="w-8 h-6 bg-slate-700 border border-slate-600 rounded text-xs flex items-center justify-center font-bold hover:scale-110 transition">Bold</button>
                    </div>
                </div>
                <div class="bg-sanop-card p-6 rounded-xl border border-slate-700">
                    <label class="block text-sm font-bold mb-2 text-slate-300">Preview</label>
                    <div class="bg-[#1e1e1e] border-2 border-slate-600 p-2 flex gap-3 select-none mb-4">
                        <div class="w-16 h-16 bg-slate-700 flex items-center justify-center text-slate-500">
                            <i class="fa-solid fa-cube text-2xl"></i>
                        </div>
                        <div class="flex-1 overflow-hidden">
                            <div class="flex justify-between items-center mb-1">
                                <span class="text-white font-bold text-lg">Minecraft Server</span>
                                <span class="text-slate-400 text-xs">123/500</span>
                            </div>
                            <div id="motd-preview" class="minecraft-font text-sm leading-tight text-slate-400 whitespace-pre-wrap"></div>
                        </div>
                    </div>
                    <button onclick="copyMotd()" class="w-full bg-slate-700 hover:bg-slate-600 text-white py-2 rounded-lg text-sm transition font-mono border border-slate-600 flex justify-center items-center gap-2">
                        <i class="fa-regular fa-copy"></i> Copy Raw Text
                    </button>
                </div>
            </div>
        </div>

        <!-- CONVERTER TOOLS -->
        <div id="converter" class="tool-content">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="fa-solid fa-right-left text-orange-500"></i> Unit Converter</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Tick Calc -->
                <div class="bg-sanop-card p-6 rounded-xl border border-slate-700">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-bold text-lg text-white">Tick <-> Waktu</h3>
                        <div class="group relative">
                             <i class="fa-solid fa-circle-info text-slate-500 cursor-help"></i>
                             <div class="absolute right-0 bottom-full mb-2 w-48 bg-black text-xs p-2 rounded border border-slate-600 hidden group-hover:block z-50">
                                20 Tick = 1 Detik di Minecraft yang lancar.
                             </div>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <label class="text-xs text-slate-400">Detik/Menit (Real Time)</label>
                            <div class="flex gap-2">
                                <input type="number" id="conv-time-val" placeholder="Ex: 60" oninput="calcTicks('time')" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white">
                                <select id="conv-time-unit" onchange="calcTicks('time')" class="bg-slate-800 border border-slate-600 rounded text-white px-2 text-sm">
                                    <option value="sec">Detik</option>
                                    <option value="min">Menit</option>
                                    <option value="hour">Jam</option>
                                </select>
                            </div>
                        </div>
                        <div class="flex justify-center text-slate-500 text-xs"><i class="fa-solid fa-arrow-down-up"></i></div>
                        <div>
                            <label class="text-xs text-slate-400">Minecraft Ticks (20tps)</label>
                            <input type="number" id="conv-tick-val" placeholder="Ex: 1200" oninput="calcTicks('tick')" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white text-orange-400 font-mono">
                        </div>
                    </div>
                </div>

                <!-- Stack Calc -->
                <div class="bg-sanop-card p-6 rounded-xl border border-slate-700">
                    <h3 class="font-bold text-lg mb-4 text-white">Item Stack Calculator</h3>
                    <div class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="text-xs text-slate-400">Total Items</label>
                                <input type="number" id="stack-total" placeholder="10000" oninput="calcStack()" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white">
                            </div>
                             <div>
                                <label class="text-xs text-slate-400">Stack Size</label>
                                <select id="stack-size" onchange="calcStack()" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white text-sm">
                                    <option value="64">64 (Blocks)</option>
                                    <option value="16">16 (Enderpearl)</option>
                                    <option value="1">1 (Tool)</option>
                                </select>
                            </div>
                        </div>
                        <div class="bg-slate-900 p-3 rounded border border-slate-700 mt-2 space-y-2">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-400 text-sm">Stacks:</span>
                                <span id="res-stacks" class="text-orange-400 font-mono font-bold">0</span>
                            </div>
                             <div class="flex justify-between items-center">
                                <span class="text-slate-400 text-sm">Sisa:</span>
                                <span id="res-leftover" class="text-blue-400 font-mono font-bold">0</span>
                            </div>
                            <div class="flex justify-between border-t border-slate-700 pt-2">
                                <span class="text-slate-400 text-sm">Shulker Box (Full):</span>
                                <span id="res-shulker" class="text-green-400 font-mono font-bold">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONFIG HELPER -->
        <div id="config" class="tool-content">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="fa-solid fa-file-code text-indigo-500"></i> Config Helper</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                 <!-- Whitelist Formatter -->
                 <div class="bg-sanop-card p-6 rounded-xl border border-slate-700">
                    <h3 class="font-bold text-lg mb-2 text-white">Whitelist JSON</h3>
                    <p class="text-xs text-slate-400 mb-3">Format daftar nama player ke JSON.</p>
                    <textarea id="wl-input" rows="5" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white font-mono text-xs mb-2 focus:border-indigo-500 outline-none" placeholder="Notch&#10;Jeb_&#10;Steve"></textarea>
                    <button onclick="formatWhitelist()" class="bg-indigo-600 hover:bg-indigo-700 text-white w-full py-2 rounded mb-3 text-sm font-bold transition">Convert to JSON</button>
                    <div class="relative">
                         <textarea id="wl-output" readonly rows="5" class="w-full bg-black border border-slate-700 rounded p-2 text-green-400 font-mono text-xs" placeholder="Result..."></textarea>
                         <button onclick="copyToClipboard('wl-output')" class="absolute top-2 right-2 text-xs bg-slate-700 px-2 py-1 rounded text-white hover:bg-slate-600">Copy</button>
                    </div>
                </div>

                <!-- SRV Record -->
                <div class="bg-sanop-card p-6 rounded-xl border border-slate-700">
                    <h3 class="font-bold text-lg mb-2 text-white">SRV Record Gen</h3>
                    <p class="text-xs text-slate-400 mb-3">Hubungkan domain ke port khusus (cth: play.mc.com -> 25577).</p>
                    <div class="space-y-2 mb-4">
                        <div class="grid grid-cols-2 gap-2">
                             <div>
                                <label class="text-xs text-slate-500">Target IP</label>
                                <input type="text" id="srv-host" placeholder="192.168.1.1" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white text-sm">
                            </div>
                            <div>
                                <label class="text-xs text-slate-500">Port</label>
                                <input type="number" id="srv-port" placeholder="25565" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white text-sm">
                            </div>
                        </div>
                    </div>
                    <button onclick="genSRV()" class="bg-indigo-600 hover:bg-indigo-700 text-white w-full py-2 rounded mb-3 text-sm font-bold transition">Generate Record</button>
                    <div class="bg-black border border-slate-700 p-3 rounded font-mono text-xs relative group cursor-pointer" onclick="copyToClipboard('srv-result-val')">
                        <div class="text-indigo-400">
                            <span class="text-slate-500">Value:</span> <span id="srv-result">0 5 25565 ...</span>
                        </div>
                        <input type="hidden" id="srv-result-val">
                        <div class="absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition flex items-center justify-center font-bold text-white">Click to Copy</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECURITY GEN VIEW -->
        <div id="security" class="tool-content">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="fa-solid fa-shield-halved text-green-500"></i> Security Generator</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-sanop-card p-6 rounded-xl border border-slate-700 hover:border-green-500/30 transition duration-300">
                    <h3 class="font-bold text-lg mb-4 text-white">Password Generator</h3>
                    <div class="mb-4">
                        <label class="text-xs text-slate-400 uppercase flex justify-between">Length <span id="pass-len-val" class="text-green-400">16</span></label>
                        <input type="range" id="pass-len" min="8" max="64" value="16" class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500 mt-2" oninput="document.getElementById('pass-len-val').innerText = this.value">
                    </div>
                    <div class="flex gap-4 mb-4 justify-between bg-slate-900/50 p-2 rounded">
                        <label class="flex items-center gap-2 text-sm text-slate-300 cursor-pointer"><input type="checkbox" id="chk-upper" checked class="accent-green-500"> A-Z</label>
                        <label class="flex items-center gap-2 text-sm text-slate-300 cursor-pointer"><input type="checkbox" id="chk-num" checked class="accent-green-500"> 0-9</label>
                        <label class="flex items-center gap-2 text-sm text-slate-300 cursor-pointer"><input type="checkbox" id="chk-sym" checked class="accent-green-500"> #@!</label>
                    </div>
                    <div class="relative">
                        <input type="text" id="gen-pass-result" readonly class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-3 font-mono text-green-400 text-sm focus:outline-none mb-2">
                        <button onclick="copyToClipboard('gen-pass-result')" class="absolute right-2 top-2 bg-slate-800 text-white p-1 px-2 rounded hover:bg-slate-700 text-xs border border-slate-600">Copy</button>
                    </div>
                    <button onclick="generatePassword()" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 rounded-lg transition mt-2 shadow-lg shadow-green-900/20">Generate New</button>
                </div>
                <div class="bg-sanop-card p-6 rounded-xl border border-slate-700 hover:border-blue-500/30 transition duration-300">
                    <h3 class="font-bold text-lg mb-4 text-white">UUID v4 Generator</h3>
                    <p class="text-xs text-slate-400 mb-4">Unique Identifier untuk database atau item spoofing.</p>
                    <div class="relative mb-4">
                        <input type="text" id="gen-uuid-result" readonly class="w-full bg-slate-900 border border-slate-600 rounded px-4 py-3 font-mono text-blue-400 text-sm focus:outline-none">
                         <button onclick="copyToClipboard('gen-uuid-result')" class="absolute right-2 top-2 bg-slate-800 text-white p-1 px-2 rounded hover:bg-slate-700 text-xs border border-slate-600">Copy</button>
                    </div>
                    <button onclick="generateUUID()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded-lg transition shadow-lg shadow-blue-900/20">Generate New</button>
                </div>
            </div>
        </div>

        <!-- RAM CALC VIEW -->
        <div id="calc" class="tool-content">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="fa-solid fa-calculator text-yellow-500"></i> Server RAM Estimator</h2>
            <div class="bg-sanop-card p-6 rounded-xl border border-slate-700 max-w-2xl">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-sm text-slate-400 mb-1">Tipe Server</label>
                        <select id="srv-type" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white outline-none focus:border-yellow-500">
                            <option value="vanilla">Vanilla (Standar)</option>
                            <option value="paper">Paper/Purpur (Ringan)</option>
                            <option value="forge">Forge/Mods (Berat)</option>
                            <option value="bungee">Proxy (Sangat Ringan)</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm text-slate-400 mb-1">Estimasi Player</label>
                        <input type="number" id="srv-players" value="10" class="w-full bg-slate-900 border border-slate-600 rounded p-2 text-white outline-none focus:border-yellow-500">
                    </div>
                </div>
                <div class="bg-slate-900 p-4 rounded-lg border border-slate-700 mb-4 flex items-center justify-between">
                    <div>
                        <h4 class="text-slate-400 text-xs uppercase mb-1">Rekomendasi RAM</h4>
                        <p class="text-xs text-slate-500">*Minimal alokasi</p>
                    </div>
                    <div class="flex items-end gap-2">
                        <span id="ram-result" class="text-4xl font-bold text-yellow-400">2 GB</span>
                    </div>
                </div>
                <button onclick="calcRam()" class="bg-yellow-600 hover:bg-yellow-700 text-white px-6 py-2 rounded font-bold w-full transition">Hitung Ulang</button>
            </div>
        </div>

        <!-- NOTES VIEW -->
        <div id="notes" class="tool-content">
             <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold flex items-center gap-2"><i class="fa-solid fa-clipboard text-slate-200"></i> Admin Notes</h2>
                <button onclick="saveNotes()" class="bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 flex items-center gap-2 shadow-lg shadow-green-500/20">
                    <i class="fa-solid fa-save"></i> Simpan
                </button>
             </div>
             <div class="bg-sanop-card rounded-xl border border-slate-700 overflow-hidden h-[calc(100vh-200px)] relative">
                 <textarea id="admin-notes" class="w-full h-full bg-slate-900 p-6 text-slate-300 font-mono text-sm focus:outline-none resize-none leading-relaxed" 
                 placeholder="// Tulis catatan server, daftar ban, atau ide config di sini..."></textarea>
                 <div class="absolute bottom-2 right-4 text-xs text-slate-600 pointer-events-none">Disimpan lokal di browser</div>
             </div>
        </div>

    </main>

    <!-- Toast Notification Container -->
    <div id="toast-container" class="fixed bottom-6 right-6 z-50 flex flex-col gap-3 pointer-events-none"></div>

    <!-- JavaScript Logic -->
    <script>
        // --- LOGIN SYSTEM LOGIC ---
        function checkSession() {
            const user = localStorage.getItem('sanop_username');
            const overlay = document.getElementById('login-screen');
            
            if(user) {
                // User logged in
                document.getElementById('user-name-display').innerText = user;
                document.getElementById('sidebar-user').innerText = user;
                overlay.classList.add('hidden-screen');
            } else {
                // User not logged in, show overlay
                overlay.classList.remove('hidden-screen');
            }
        }

        function doLogin() {
            const name = document.getElementById('login-input').value.trim();
            if(name) {
                localStorage.setItem('sanop_username', name);
                checkSession();
                showToast(`Selamat datang, ${name}!`);
            } else {
                alert("Harap masukkan nama!");
            }
        }

        function doLogout() {
            if(confirm('Yakin ingin logout dan menghapus sesi ini?')) {
                localStorage.removeItem('sanop_username');
                location.reload();
            }
        }

        // --- NEW: PROPERTIES GEN LOGIC ---
        function genProperties() {
            const max = document.getElementById('prop-max').value;
            const view = document.getElementById('prop-view').value;
            const motd = document.getElementById('prop-motd').value;
            const diff = document.getElementById('prop-diff').value;
            const mode = document.getElementById('prop-mode').value;
            
            const pvp = document.getElementById('prop-pvp').checked;
            const nether = document.getElementById('prop-nether').checked;
            const fly = document.getElementById('prop-fly').checked;
            const wl = document.getElementById('prop-wl').checked;
            const cmd = document.getElementById('prop-cmd').checked;
            const cracked = document.getElementById('prop-cracked').checked;

            let conf = `#Minecraft Server Properties
#Generated by SANOP:MCTOOLS
server-port=25565
motd=${motd}
max-players=${max}
view-distance=${view}
difficulty=${diff}
gamemode=${mode}
pvp=${pvp}
allow-nether=${nether}
allow-flight=${fly}
white-list=${wl}
enable-command-block=${cmd}
online-mode=${!cracked}
`;
            document.getElementById('prop-output').value = conf;
            showToast("Konfigurasi server.properties dibuat!");
        }

        // --- NEW: ANNOUNCER LOGIC ---
        function genBroadcast(type) {
            const msg = document.getElementById('ann-msg').value || "Hello World";
            const color = document.getElementById('ann-color').value;
            
            let cmd = "";
            if(type === 'chat') {
                cmd = `/tellraw @a {"text":"[ANNOUNCE] ${msg}","color":"${color}","bold":true}`;
            } else {
                cmd = `/title @a title {"text":"${msg}","color":"${color}"}`;
            }
            
            document.getElementById('ann-result').innerText = cmd;
            document.getElementById('ann-result-val').value = cmd;
            showToast(`Command ${type} dibuat!`);
        }

        // --- PLUGIN HELPER LOGIC ---
        function genLP() {
            const user = document.getElementById('lp-user').value || "player";
            const group = document.getElementById('lp-group').value || "default";
            const cmd = `/lp user ${user} parent set ${group}`;
            document.getElementById('lp-result').innerText = cmd;
            document.getElementById('lp-result-val').value = cmd;
            showToast("Command LuckPerms dibuat!");
        }

        function copyCmd(cmd) {
            let temp = document.createElement('textarea');
            temp.value = cmd;
            document.body.appendChild(temp);
            temp.select();
            document.execCommand('copy');
            document.body.removeChild(temp);
            showToast(`Command disalin: ${cmd}`);
        }

        // --- TOAST SYSTEM ---
        function showToast(message, type = 'success') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            
            // Icon & Colors
            let icon = 'fa-check-circle';
            let colorClass = 'border-green-500 text-green-400 bg-slate-900';
            
            if(type === 'info') { icon = 'fa-info-circle'; colorClass = 'border-blue-500 text-blue-400 bg-slate-900'; }
            if(type === 'error') { icon = 'fa-exclamation-circle'; colorClass = 'border-red-500 text-red-400 bg-slate-900'; }
            
            toast.className = `pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-lg shadow-2xl border-l-4 ${colorClass} transform transition-all duration-300 translate-x-full opacity-0 max-w-sm`;
            toast.innerHTML = `
                <i class="fa-solid ${icon} text-lg"></i>
                <span class="text-sm font-semibold text-white">${message}</span>
            `;

            container.appendChild(toast);
            requestAnimationFrame(() => toast.classList.remove('translate-x-full', 'opacity-0'));
            setTimeout(() => {
                toast.classList.add('translate-x-full', 'opacity-0');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // --- KAMUS ADMIN ---
        const kamusData = [
            { t: "TPS (Ticks Per Second)", d: "Jantung server. Normal = 20. Jika turun (misal 15), server akan terasa lambat (lag)." },
            { t: "Latency / Ping (ms)", d: "Waktu respon koneksi. Semakin rendah semakin baik. 0-50ms (Sangat Cepat), 200ms+ (Lag)." },
            { t: "RAM / Memory", d: "Memori untuk menjalankan server. Modpack berat butuh RAM besar. Jika penuh, server akan crash (OOM)." },
            { t: "Whitelist", d: "Daftar 'Tamu Undangan'. Hanya nama yang ada di daftar ini yang boleh masuk server." },
            { t: "OP (Operator)", d: "Admin level tertinggi. Bisa menggunakan semua command (termasuk ban/stop server)." },
            { t: "BungeeCord / Proxy", d: "Sistem penghubung untuk menggabungkan banyak server (Lobby, Survival, Skyblock) jadi satu IP." },
            { t: "Aikar's Flags", d: "Kode startup Java khusus untuk mengoptimalkan kinerja Garbage Collector (GC) agar server tidak lag." },
            { t: "Chunk", d: "Area dunia game ukuran 16x16 blok. Terlalu banyak chunk yang dimuat (chunk loading) memakan RAM." },
            { t: "SRV Record", d: "Settingan DNS agar player tidak perlu mengetik port (misal :25565) saat join server." }
        ];

        function renderKamus() {
            const container = document.getElementById('kamus-container');
            container.innerHTML = kamusData.map(item => `
                <div class="bg-slate-800 p-4 rounded-lg border border-slate-700 hover:border-teal-500/50 transition">
                    <h4 class="font-bold text-teal-400 mb-1">${item.t}</h4>
                    <p class="text-xs text-slate-300 leading-relaxed">${item.d}</p>
                </div>
            `).join('');
        }

        function filterKamus() {
            const query = document.getElementById('kamus-search').value.toLowerCase();
            const cards = document.getElementById('kamus-container').children;
            Array.from(cards).forEach(card => {
                const text = card.innerText.toLowerCase();
                card.style.display = text.includes(query) ? 'block' : 'none';
            });
        }

        // --- NAVIGATION LOGIC ---
        function switchTab(tabId) {
            document.querySelectorAll('.tool-content').forEach(el => el.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');

            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.className = "nav-btn w-full text-left px-4 py-2.5 rounded-lg hover:bg-slate-700/50 transition-all text-slate-300 hover:text-white flex items-center gap-3";
            });

            const activeBtn = document.getElementById('btn-' + tabId);
            activeBtn.classList.add('active-nav', 'bg-blue-600/10', 'text-blue-400', 'border', 'border-blue-500/20', 'shadow-[0_0_15px_rgba(59,130,246,0.1)]');
            activeBtn.classList.remove('text-slate-300');
            
            addLog(`Membuka menu: ${tabId.toUpperCase()}`);
        }

        function addLog(msg) {
            const container = document.getElementById('activity-log');
            const time = new Date().toLocaleTimeString('id-ID');
            if(container.children[0]?.innerText.includes("Belum ada")) container.innerHTML = "";
            const div = document.createElement('div');
            div.className = "flex justify-between items-center text-xs border-b border-slate-700/50 pb-2 last:border-0";
            div.innerHTML = `<span class="text-slate-300">${msg}</span> <span class="text-slate-600 font-mono">${time}</span>`;
            container.prepend(div);
            if(container.children.length > 10) container.removeChild(container.lastChild);
        }

        function clearLog() {
            document.getElementById('activity-log').innerHTML = '<div class="text-center text-slate-500 text-xs py-4">Log dibersihkan.</div>';
            showToast("Log aktivitas dihapus.", "info");
        }

        // --- UTILITIES ---
        function copyToClipboard(elementId) {
            let element = document.getElementById(elementId);
            let target = element;
            let temp = false;

            if(element.type === 'hidden') {
                target = document.createElement('textarea');
                target.value = element.value;
                document.body.appendChild(target);
                temp = true;
            }

            target.select();
            target.setSelectionRange(0, 99999);
            
            try {
                document.execCommand('copy');
                showToast("Berhasil disalin ke clipboard!");
            } catch(e) {
                showToast("Gagal menyalin.", "error");
            }

            if(temp) document.body.removeChild(target);
        }

        async function checkServer() {
            const ip = document.getElementById('server-ip').value;
            if(!ip) return showToast("Masukkan IP Server!", "error");
            
            const loader = document.getElementById('loading-skeleton');
            const content = document.getElementById('result-content');
            const resultBox = document.getElementById('status-result');
            
            resultBox.classList.remove('hidden');
            loader.classList.remove('hidden');
            content.classList.add('hidden');
            addLog(`Cek status: ${ip}`);

            try {
                const response = await fetch(`https://api.mcsrvstat.us/2/${ip}`);
                const data = await response.json();
                loader.classList.add('hidden');
                content.classList.remove('hidden');

                document.getElementById('server-ip-display').innerText = data.ip + (data.port ? ':'+data.port : '');
                document.getElementById('server-hostname').innerText = data.hostname || ip;
                
                if(data.online) {
                    document.getElementById('server-online-badge').className = "px-2 py-0.5 rounded text-xs font-bold uppercase bg-green-500/20 text-green-400";
                    document.getElementById('server-online-badge').innerText = "ONLINE";
                    document.getElementById('server-players').innerText = `${data.players.online} / ${data.players.max}`;
                    document.getElementById('server-version').innerText = data.version;
                    document.getElementById('server-icon').src = data.icon || "https://via.placeholder.com/64?text=MC";
                    if(data.motd && data.motd.html) document.getElementById('server-motd').innerHTML = data.motd.html.join('<br>');
                    showToast(`Server ${ip} Online!`);
                } else {
                    document.getElementById('server-online-badge').className = "px-2 py-0.5 rounded text-xs font-bold uppercase bg-red-500/20 text-red-400";
                    document.getElementById('server-online-badge').innerText = "OFFLINE";
                    document.getElementById('server-players').innerText = "-";
                    document.getElementById('server-version').innerText = "-";
                    document.getElementById('server-motd').innerText = "Server offline / tidak ditemukan.";
                    showToast(`Server Offline.`, "error");
                }
            } catch (err) {
                loader.classList.add('hidden');
                showToast("Gagal menghubungi API.", "error");
            }
        }
        
        function generatePassword() {
            const len = document.getElementById('pass-len').value;
            const chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";
            let pass = "";
            for(let i=0; i<len; i++) pass += chars.charAt(Math.floor(Math.random() * chars.length));
            document.getElementById('gen-pass-result').value = pass;
        }

        function generateUUID() {
             const uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {
                var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
            document.getElementById('gen-uuid-result').value = uuid;
        }

        function calcRam() {
             const players = parseInt(document.getElementById('srv-players').value) || 0;
             const type = document.getElementById('srv-type').value;
             let multi = type === 'forge' ? 0.15 : (type === 'bungee' ? 0.01 : 0.05);
             let base = type === 'bungee' ? 0.5 : 1.5;
             let total = Math.ceil((base + (players * multi)) * 2) / 2;
             document.getElementById('ram-result').innerText = total + " GB";
             showToast("Kalkulasi RAM selesai.");
        }
        
        function calcStack() {
            let total = parseInt(document.getElementById('stack-total').value) || 0;
            let size = parseInt(document.getElementById('stack-size').value) || 64;
            document.getElementById('res-stacks').innerText = Math.floor(total/size) + " Stacks + " + (total%size);
            document.getElementById('res-leftover').innerText = total % size;
            document.getElementById('res-shulker').innerText = (total / (size * 27)).toFixed(1) + " Box";
        }
        
        function calcTicks(mode) {
             if(mode === 'time') {
                 let val = parseFloat(document.getElementById('conv-time-val').value) || 0;
                 let unit = document.getElementById('conv-time-unit').value;
                 if(unit === 'min') val *= 60; if(unit === 'hour') val *= 3600;
                 document.getElementById('conv-tick-val').value = Math.floor(val * 20);
             } else {
                 let ticks = parseInt(document.getElementById('conv-tick-val').value) || 0;
                 document.getElementById('conv-time-val').value = ticks / 20;
                 document.getElementById('conv-time-unit').value = 'sec';
             }
        }
        
        function genSRV() {
             const ip = document.getElementById('srv-host').value || "127.0.0.1";
             const port = document.getElementById('srv-port').value || "25565";
             const res = `0 5 ${port} ${ip}`;
             document.getElementById('srv-result').innerText = res;
             document.getElementById('srv-result-val').value = res;
             showToast("SRV Record dibuat.");
        }
        function formatWhitelist() {
             const lines = document.getElementById('wl-input').value.split('\n');
             const res = lines.filter(l=>l.trim()).map(n => ({uuid: "offline-uuid-placeholder", name: n.trim()}));
             document.getElementById('wl-output').value = JSON.stringify(res, null, 2);
             showToast("Whitelist JSON diformat.");
        }

        function insertColor(c) {
             const el = document.getElementById('motd-input');
             el.value += c;
             updateMotd();
        }
        function updateMotd() {
             const txt = document.getElementById('motd-input').value;
             document.getElementById('motd-preview').innerText = txt.replace(/&[0-9a-fk-or]/g, ''); 
        }
        function copyMotd() {
             const txt = document.getElementById('motd-input');
             txt.select();
             document.execCommand('copy');
             showToast("MOTD Text disalin!");
        }

        function saveNotes() {
             localStorage.setItem('sanop_admin_notes', document.getElementById('admin-notes').value);
             showToast("Catatan tersimpan di browser.");
        }

        let seconds = 0;
        setInterval(() => {
            seconds++;
            const m = Math.floor(seconds / 60).toString().padStart(2,'0');
            const s = (seconds % 60).toString().padStart(2,'0');
            document.getElementById('session-time').innerText = `${m}:${s}`;
        }, 1000);

        window.onload = function() {
            checkSession();
            renderKamus();
            // Removed updateGradient call
            const savedNotes = localStorage.getItem('sanop_admin_notes');
            if(savedNotes) document.getElementById('admin-notes').value = savedNotes;
            generatePassword();
            generateUUID();
            genProperties(); // Init default properties
        };

    </script>
</body>
</html>
